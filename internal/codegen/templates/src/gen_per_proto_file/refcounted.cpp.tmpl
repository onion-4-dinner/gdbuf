// THIS FILE IS GENERATED BY GDBUF. DO NOT EDIT UNLESS YOU KNOW WHAT YOU'RE DOING
{{- $protoPathNoExtension := trimSuffix ".proto" .ProtoPath }}
{{- $protoFileNameNoExtension := base $protoPathNoExtension }}
#include <string>
#include "{{ $protoFileNameNoExtension }}.h"
#include "{{ $protoFileNameNoExtension }}.pb.h"
#include <cstdint> // Required for int64_t
#include <godot_cpp/variant/string.hpp>


namespace {{ snakecase $protoFileNameNoExtension }} {
{{- range .Messages }}
{{- $className := camelcase .MessageName }}

void {{ $className }}::_bind_methods() {
  godot::ClassDB::bind_method(godot::D_METHOD("get_proto_file_name"), &{{ $className }}::get_proto_file_name);
  godot::ClassDB::bind_method(godot::D_METHOD("to_byte_array"), &{{ $className }}::to_byte_array);
  godot::ClassDB::bind_method(godot::D_METHOD("from_byte_array", "PackedByteArray"), &{{ $className }}::from_byte_array);
  {{- range .Fields }}
  godot::ClassDB::bind_method(godot::D_METHOD("get_{{ snakecase .FieldName }}"), &{{ $className }}::get_{{ snakecase .FieldName }});
  godot::ClassDB::bind_method(godot::D_METHOD("set_{{ snakecase .FieldName }}", "value"), &{{ $className }}::set_{{ snakecase .FieldName }});
  {{- end }}
}

godot::String {{ $className }}::get_proto_file_name() {
  return godot::String("{{ $protoFileNameNoExtension }}");
}

{{- range .Fields }}
  {{- if .IsCustomType }}
{{ .GodotType }}* {{ $className }}::get_{{ snakecase .FieldName }}() {
  return {{ snakecase .FieldName }};
}

void {{ $className }}::set_{{ snakecase .FieldName }}({{ .GodotType }}* p_{{ snakecase .FieldName }}) {
  this->{{ snakecase .FieldName }} = p_{{ snakecase .FieldName }};
}
  {{- else }}
{{ .GodotType }} {{ $className }}::get_{{ snakecase .FieldName }}() {
  return {{ snakecase .FieldName }};
}

void {{ $className }}::set_{{ snakecase .FieldName }}({{ .GodotType }} p_{{ snakecase .FieldName }}) {
  this->{{ snakecase .FieldName }} = p_{{ snakecase .FieldName }};
}
  {{- end }}

{{- end }}
{{- end }}
}
